var PwnedPass=function(){function a(l,m){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&200==n.status&&m(n.responseText)},n.open("GET",l,!0),n.setRequestHeader("User-Agent",k),n.send(null)}function b(l){var m=/[a-fA-F0-9]{40}/g;return 0<=l.search(m)}function c(l){var m=new TextEncoder("utf-8").encode(l);return crypto.subtle.digest("SHA-1",m).then(function(n){for(var o=[],p="00000000",q=new DataView(n),r=0;r<q.byteLength;r+=4){var s=q.getUint32(r),t=s.toString(16),u=(p+t).slice(-p.length);o.push(u)}return o.join("")})}function d(l,m){return new Promise(async function(n,o){var p={};return l&&"string"==typeof l?m?void("function"==typeof m?(p.Pwned=m,p.Clean=function(){}):(p=m,!p.Pwned&&(p.Pwned=function(q){console.log("This password is compromised, frequency: "+q)}),!p.Clean&&(p.Clean=function(){})),p.SHA1Hash=!b(l)||p.ForceHash?await Promise.resolve(c(l)):l,n(p)):void o("must provide callbacks as the second parameter"):void o("must provide password or SHA-1 hash as first parameter")})}function e(l){j.apply(function(){var m=l.SHA1Hash.substr(0,5),n=l.SHA1Hash.substr(5).toUpperCase();a("https://api.pwnedpasswords.com/range/"+m,function(o){for(var p=o.split("\n"),q=0;q<p.length;++q)if(respSplit=p[q].split(":"),respHash=respSplit[0],respHash===n)return void l.Pwned(parseInt(respSplit[1]));l.Clean()})})}var g="jpxor-pwnedpass.js",j=throttler(2e3),k=g;return{setUserAgent:function(l){k=l+"-via-"+g},check:function(l,m){d(l,m).then(e).catch(console.error)}}}();function throttler(a){return function(){function b(e){return new Promise(f=>setTimeout(f,e))}var c=!1,d=0;return{apply:async function(e){if(!c){c=!0;var f=new Date().getTime(),g=d+a-f;0<g&&(await b(g)),e(),d=new Date().getTime(),c=!1}}}}()}