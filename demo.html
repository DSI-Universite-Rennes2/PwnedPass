<html>
    <header>
            <script src="pwnedpass.js"></script>
            <script>
                function CheckPass(password){                    
                    pwnedpass.sha1(password).then(function(hash){
                        pwnedpass.check(hash,
                         {
                            Pwned:function(){infodiv.innerHTML = "This password is compromised";},
                            Clean:function(){infodiv.innerHTML = "This password is clean";}
                        });
                    });
                }
                function ClearPassInfo(){
                    infodiv.innerHTML = "";
                }
            </script>
    </header>
    <body>
        <center>
        <h2>Pwned Password Check (onblur)</h2>
        <input type="password" onblur=CheckPass(this.value) oninput=ClearPassInfo()>
        <div style="height: 1em; margin-bottom:2em;" id=passwordInfo></div>
        <a href="https://haveibeenpwned.com/Passwords">Data Source</a>
    </body>
    <script>
        pwnedpass.init("Demo"); // adds user-agent string, optional
        var infodiv = document.getElementById("passwordInfo");
    </script>
</html>
